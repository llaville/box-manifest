<!-- markdownlint-disable MD013 -->
# Getting Started

## Requirements

* PHP 8.1 or greater
* ext-phar
* PHPUnit 10 or greater (if you want to run unit tests)

## Usage

There is only one `contrib:add-manifest` command to build your application's manifest.

E.g: `bin/box-manifest contrib:add-manifest` (default format is auto, that means plain text strategy first)

```text
Description:
  Creates a manifest of your software components and dependencies.

Usage:
  contrib:add-manifest [options]

Options:
  -f, --format=FORMAT            Format of the output: auto, plain, ansi, sbom [default: "auto"]
  -o, --output-file=OUTPUT-FILE  Write results to file (default to standard output)
      --no-config                Ignore the config file even when one is specified with the --config option
  -c, --config=CONFIG            The alternative configuration file path.
  -h, --help                     Display help for the given command. When no command is given display help for the list command
  -q, --quiet                    Do not output any message
  -V, --version                  Display this application version
      --ansi|--no-ansi           Force (or disable --no-ansi) ANSI output
  -n, --no-interaction           Do not ask any interactive question
  -v|vv|vvv, --verbose           Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug

Help:
  The contrib:add-manifest command will generate a manifest of your application.```
```

The `--output-file` and `--format` options can be used to control the formatting and destination
of the output generated by `box-manifest`.
The default is to report to the console standard output but can be stored in a file (specified using `--output-file` option).
The format of the output can be changed using the `--format` option which may be useful if the output is to be used
as an input by another tool like `box`.

The `--config` option can be used to specify path to alternate version of a `box.json.dist` or `box.json`
that are not found in current working directory.

The `--no-config` option must be specified if you don't want to use BOX default configuration files (`box.json.dist` or `box.json`)

Once generated with the `--output-file` option, the manifest may be included as any other files you want to add into your PHP Archive.

If you want to keep it included in the metadata field of your PHAR, like in previous versions of `box-manifest`, then you must configure
[`metadata`][metadata-directive] directive as follows :

```json
{
  "metadata": "Bartlett\\BoxManifest\\Composer\\ManifestFactory::get"
}
```

**NOTE** if none of files (`manifest.txt`, `sbom.xml`, `sbom.json`) are found, when you execute `bin/box compile` command,
then metadata field of your PHAR will contain NULL value (default BOX behavior).

**IMPORTANT** this tool contain a version of BOX itself you may invoke as usual with `bin/box` command.

[metadata-directive]: https://github.com/box-project/box/blob/main/doc/configuration.md#metadata-metadata
